{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mario/PycharmProjects/futbol7/components/providers/team-provider.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\r\n\r\nconst EQUIPO_ID = \"7ec6e1c6-9704-496c-ae72-a590817b9568\";\r\n\r\ntype StatsType = {\r\n    victorias: number;\r\n    empates: number;\r\n    derrotas: number;\r\n    golesFavor: number;\r\n    golesContra: number;\r\n    partidosJugados: number;\r\n};\r\n\r\ntype TeamContextType = {\r\n    jugadores: any[];\r\n    topGoleadores: any[];\r\n    partidos: any[];\r\n    goleadoresPartido: any[];\r\n    stats: StatsType;\r\n    loading: boolean;\r\n    refreshData: () => Promise<void>;\r\n};\r\n\r\nconst defaultStats = {\r\n    victorias: 0,\r\n    empates: 0,\r\n    derrotas: 0,\r\n    golesFavor: 0,\r\n    golesContra: 0,\r\n    partidosJugados: 0,\r\n};\r\n\r\nconst TeamContext = createContext<TeamContextType>({\r\n    jugadores: [],\r\n    topGoleadores: [],\r\n    partidos: [],\r\n    goleadoresPartido: [],\r\n    stats: defaultStats,\r\n    loading: true,\r\n    refreshData: async () => { },\r\n});\r\n\r\nexport function TeamProvider({ children }: { children: React.ReactNode }) {\r\n    const [jugadores, setJugadores] = useState<any[]>([]);\r\n    const [topGoleadores, setTopGoleadores] = useState<any[]>([]);\r\n    const [partidos, setPartidos] = useState<any[]>([]);\r\n    const [goleadoresPartido, setGoleadoresPartido] = useState<any[]>([]);\r\n    const [stats, setStats] = useState<StatsType>(defaultStats);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const fetchData = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const ts = new Date().getTime();\r\n            const [playersRes, matchesRes] = await Promise.all([\r\n                fetch(`/api/players?equipo_id=${EQUIPO_ID}&t=${ts}`),\r\n                fetch(`/api/matches?equipo_id=${EQUIPO_ID}&t=${ts}`),\r\n            ]);\r\n\r\n            if (playersRes.ok) {\r\n                const pData = await playersRes.json();\r\n                setJugadores(pData.jugadores || []);\r\n                setTopGoleadores(pData.top_goleadores || []);\r\n            }\r\n\r\n            if (matchesRes.ok) {\r\n                const mData = await matchesRes.json();\r\n                const matchesList = mData.partidos || [];\r\n                setPartidos(matchesList);\r\n                setGoleadoresPartido(mData.goleadores || []);\r\n\r\n                const finalizados = matchesList.filter((m: any) => m.estado === \"finalizado\");\r\n\r\n                let won = 0;\r\n                let drawn = 0;\r\n                let lost = 0;\r\n                let gf = 0;\r\n                let ga = 0;\r\n\r\n                finalizados.forEach((m: any) => {\r\n                    const mGf = Number(m.goles_equipo || 0);\r\n                    const mGa = Number(m.goles_rival || 0);\r\n\r\n                    gf += mGf;\r\n                    ga += mGa;\r\n\r\n                    if (mGf > mGa) won++;\r\n                    else if (mGf === mGa) drawn++;\r\n                    else lost++;\r\n                });\r\n\r\n                setStats({\r\n                    victorias: won,\r\n                    empates: drawn,\r\n                    derrotas: lost,\r\n                    golesFavor: gf,\r\n                    golesContra: ga,\r\n                    partidosJugados: finalizados.length,\r\n                });\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error fetching team context data:\", error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, []);\r\n\r\n    return (\r\n        <TeamContext.Provider value={{\r\n            jugadores,\r\n            topGoleadores,\r\n            partidos,\r\n            goleadoresPartido,\r\n            stats,\r\n            loading,\r\n            refreshData: fetchData\r\n        }}>\r\n            {children}\r\n        </TeamContext.Provider>\r\n    );\r\n}\r\n\r\nexport function useTeamData() {\r\n    return useContext(TeamContext);\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;;;AAFA;;AAIA,MAAM,YAAY;AAqBlB,MAAM,eAAe;IACjB,WAAW;IACX,SAAS;IACT,UAAU;IACV,YAAY;IACZ,aAAa;IACb,iBAAiB;AACrB;AAEA,MAAM,4BAAc,IAAA,8KAAa,EAAkB;IAC/C,WAAW,EAAE;IACb,eAAe,EAAE;IACjB,UAAU,EAAE;IACZ,mBAAmB,EAAE;IACrB,OAAO;IACP,SAAS;IACT,aAAa,WAAc;AAC/B;AAEO,SAAS,aAAa,KAA2C;QAA3C,EAAE,QAAQ,EAAiC,GAA3C;;IACzB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAQ,EAAE;IACpD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAQ,EAAE;IAC5D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAQ,EAAE;IAClD,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,yKAAQ,EAAQ,EAAE;IACpE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAY;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,YAAY;QACd,WAAW;QACX,IAAI;YACA,MAAM,KAAK,IAAI,OAAO,OAAO;YAC7B,MAAM,CAAC,YAAY,WAAW,GAAG,MAAM,QAAQ,GAAG,CAAC;gBAC/C,MAAM,AAAC,0BAAwC,OAAf,WAAU,OAAQ,OAAH;gBAC/C,MAAM,AAAC,0BAAwC,OAAf,WAAU,OAAQ,OAAH;aAClD;YAED,IAAI,WAAW,EAAE,EAAE;gBACf,MAAM,QAAQ,MAAM,WAAW,IAAI;gBACnC,aAAa,MAAM,SAAS,IAAI,EAAE;gBAClC,iBAAiB,MAAM,cAAc,IAAI,EAAE;YAC/C;YAEA,IAAI,WAAW,EAAE,EAAE;gBACf,MAAM,QAAQ,MAAM,WAAW,IAAI;gBACnC,MAAM,cAAc,MAAM,QAAQ,IAAI,EAAE;gBACxC,YAAY;gBACZ,qBAAqB,MAAM,UAAU,IAAI,EAAE;gBAE3C,MAAM,cAAc,YAAY,MAAM,CAAC,CAAC,IAAW,EAAE,MAAM,KAAK;gBAEhE,IAAI,MAAM;gBACV,IAAI,QAAQ;gBACZ,IAAI,OAAO;gBACX,IAAI,KAAK;gBACT,IAAI,KAAK;gBAET,YAAY,OAAO,CAAC,CAAC;oBACjB,MAAM,MAAM,OAAO,EAAE,YAAY,IAAI;oBACrC,MAAM,MAAM,OAAO,EAAE,WAAW,IAAI;oBAEpC,MAAM;oBACN,MAAM;oBAEN,IAAI,MAAM,KAAK;yBACV,IAAI,QAAQ,KAAK;yBACjB;gBACT;gBAEA,SAAS;oBACL,WAAW;oBACX,SAAS;oBACT,UAAU;oBACV,YAAY;oBACZ,aAAa;oBACb,iBAAiB,YAAY,MAAM;gBACvC;YACJ;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,qCAAqC;QACvD,SAAU;YACN,WAAW;QACf;IACJ;IAEA,IAAA,0KAAS;kCAAC;YACN;QACJ;iCAAG,EAAE;IAEL,qBACI,6LAAC,YAAY,QAAQ;QAAC,OAAO;YACzB;YACA;YACA;YACA;YACA;YACA;YACA,aAAa;QACjB;kBACK;;;;;;AAGb;GAlFgB;KAAA;AAoFT,SAAS;;IACZ,OAAO,IAAA,2KAAU,EAAC;AACtB;IAFgB","debugId":null}},
    {"offset": {"line": 129, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mario/PycharmProjects/futbol7/components/theme-provider.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { ThemeProvider as NextThemesProvider } from \"next-themes\";\r\nimport { type ThemeProviderProps } from \"next-themes\";\r\n\r\nexport function ThemeProvider({ children, ...props }: ThemeProviderProps) {\r\n    return <NextThemesProvider {...props}>{children}</NextThemesProvider>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAKO,SAAS,cAAc,KAA0C;QAA1C,EAAE,QAAQ,EAAE,GAAG,OAA2B,GAA1C;IAC1B,qBAAO,6LAAC,oKAAkB;QAAE,GAAG,KAAK;kBAAG;;;;;;AAC3C;KAFgB","debugId":null}}]
}