(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{1827:(e,r,s)=>{Promise.resolve().then(s.bind(s,45404))},3941:(e,r,s)=>{"use strict";s.d(r,{N:()=>t});let t=(0,s(35497).UU)("https://aknyrfoxlpphebkfomwx.supabase.co","sb_publishable_Z36O_vV2RpFxkajpCPpU7w_D9ve-o3k")},45404:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>n});var t=s(95155),a=s(12115),l=s(20063),o=s(3941);function n(){let[e,r]=(0,a.useState)(""),[s,n]=(0,a.useState)(""),[i,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)(""),m=(0,l.useRouter)();(0,a.useEffect)(()=>{(async()=>{let{data:{session:e}}=await o.N.auth.getSession();e&&await b(e.user.id)})()},[]);let b=async e=>{try{let{data:r,error:s}=await o.N.from("usuarios").select("rol").eq("id",e).single();if(s||!r)return void console.error("Error obteniendo rol:",s);"admin"===r.rol||"equipo"===r.rol||r.rol,m.push("/")}catch(e){console.error("Error redirigiendo:",e)}},x=async r=>{r.preventDefault(),d(!0),u("");try{let{data:r,error:t}=await o.N.auth.signInWithPassword({email:e,password:s});if(t)return void u(t.message);r.user&&await b(r.user.id)}catch(e){u("Error de conexi\xf3n"),console.error(e)}finally{d(!1)}};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-600 to-blue-800",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md mx-4 sm:mx-0",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-center mb-8 text-gray-800",children:"⚽ Futbol7"}),(0,t.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,t.jsx)("input",{type:"email",value:e,onChange:e=>r(e.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"tu@email.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrase\xf1a"}),(0,t.jsx)("input",{type:"password",value:s,onChange:e=>n(e.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••"})]}),c&&(0,t.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:c}),(0,t.jsx)("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 text-white py-2 rounded-lg font-semibold hover:bg-blue-700 transition disabled:opacity-50",children:i?"Ingresando...":"Ingresar"})]}),(0,t.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg text-sm text-gray-600",children:[(0,t.jsx)("p",{className:"font-semibold mb-2",children:"\uD83D\uDCDD Usuarios de prueba:"}),(0,t.jsxs)("ul",{className:"space-y-1 text-xs",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Admin:"})," admin@futbol7.com / admin123"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Equipo:"})," equipo@futbol7.com / equipo123"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{children:"Espectador:"})," espectador@futbol7.com / espectador123"]})]})]}),(0,t.jsxs)("p",{className:"text-center mt-6 text-gray-600 text-sm",children:["\xbfNo tienes cuenta?"," ",(0,t.jsx)("a",{href:"/",onClick:()=>setTimeout(()=>window.dispatchEvent(new CustomEvent("openRegisterModal")),500),className:"text-blue-600 hover:underline font-semibold",children:"Registrarse"})]})]})})}}},e=>{e.O(0,[174,441,255,358],()=>e(e.s=1827)),_N_E=e.O()}]);