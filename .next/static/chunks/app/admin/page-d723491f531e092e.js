(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{3941:(e,t,a)=>{"use strict";a.d(t,{N:()=>r});let r=(0,a(92373).UU)("https://aknyrfoxlpphebkfomwx.supabase.co","sb_publishable_Z36O_vV2RpFxkajpCPpU7w_D9ve-o3k")},5379:(e,t,a)=>{"use strict";a.d(t,{D:()=>i,N:()=>c});var r=a(12115),s=(e,t,a,r,s,l,d,o)=>{let n=document.documentElement,i=["light","dark"];function c(t){var a;(Array.isArray(e)?e:[e]).forEach(e=>{let a="class"===e,r=a&&l?s.map(e=>l[e]||e):s;a?(n.classList.remove(...r),n.classList.add(l&&l[t]?l[t]:t)):n.setAttribute(e,t)}),a=t,o&&i.includes(a)&&(n.style.colorScheme=a)}if(r)c(r);else try{let e=localStorage.getItem(t)||a,r=d&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(r)}catch(e){}},l=["light","dark"],d="(prefers-color-scheme: dark)",o=r.createContext(void 0),n={setTheme:e=>{},themes:[]},i=()=>{var e;return null!=(e=r.useContext(o))?e:n},c=e=>r.useContext(o)?r.createElement(r.Fragment,null,e.children):r.createElement(m,{...e}),x=["light","dark"],m=e=>{let{forcedTheme:t,disableTransitionOnChange:a=!1,enableSystem:s=!0,enableColorScheme:n=!0,storageKey:i="theme",themes:c=x,defaultTheme:m=s?"system":"light",attribute:b="data-theme",value:y,children:f,nonce:k,scriptProps:v}=e,[j,w]=r.useState(()=>u(i,m)),[N,C]=r.useState(()=>"system"===j?p():j),_=y?Object.values(y):c,A=r.useCallback(e=>{let t=e;if(!t)return;"system"===e&&s&&(t=p());let r=y?y[t]:t,d=a?g(k):null,o=document.documentElement,i=e=>{"class"===e?(o.classList.remove(..._),r&&o.classList.add(r)):e.startsWith("data-")&&(r?o.setAttribute(e,r):o.removeAttribute(e))};if(Array.isArray(b)?b.forEach(i):i(b),n){let e=l.includes(m)?m:null,a=l.includes(t)?t:e;o.style.colorScheme=a}null==d||d()},[k]),S=r.useCallback(e=>{let t="function"==typeof e?e(j):e;w(t);try{localStorage.setItem(i,t)}catch(e){}},[j]),E=r.useCallback(e=>{C(p(e)),"system"===j&&s&&!t&&A("system")},[j,t]);r.useEffect(()=>{let e=window.matchMedia(d);return e.addListener(E),E(e),()=>e.removeListener(E)},[E]),r.useEffect(()=>{let e=e=>{e.key===i&&(e.newValue?w(e.newValue):S(m))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[S]),r.useEffect(()=>{A(null!=t?t:j)},[t,j]);let M=r.useMemo(()=>({theme:j,setTheme:S,forcedTheme:t,resolvedTheme:"system"===j?N:j,themes:s?[...c,"system"]:c,systemTheme:s?N:void 0}),[j,S,t,N,s,c]);return r.createElement(o.Provider,{value:M},r.createElement(h,{forcedTheme:t,storageKey:i,attribute:b,enableSystem:s,enableColorScheme:n,defaultTheme:m,value:y,themes:c,nonce:k,scriptProps:v}),f)},h=r.memo(e=>{let{forcedTheme:t,storageKey:a,attribute:l,enableSystem:d,enableColorScheme:o,defaultTheme:n,value:i,themes:c,nonce:x,scriptProps:m}=e,h=JSON.stringify([l,a,n,t,c,i,d,o]).slice(1,-1);return r.createElement("script",{...m,suppressHydrationWarning:!0,nonce:"",dangerouslySetInnerHTML:{__html:"(".concat(s.toString(),")(").concat(h,")")}})}),u=(e,t)=>{let a;try{a=localStorage.getItem(e)||void 0}catch(e){}return a||t},g=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},p=e=>(e||(e=window.matchMedia(d)),e.matches?"dark":"light")},6613:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},24033:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},35299:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},37494:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},55477:(e,t,a)=>{Promise.resolve().then(a.bind(a,90779))},59427:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},59744:(e,t,a)=>{"use strict";a.d(t,{c:()=>o});var r=a(95155);a(12115);var s=a(59427),l=a(37494),d=a(5379);function o(){let{resolvedTheme:e,setTheme:t}=(0,d.D)();return(0,r.jsxs)("button",{onClick:()=>t("dark"===e?"light":"dark"),className:"relative flex items-center justify-center p-2 rounded-full bg-secondary hover:bg-muted text-foreground transition-colors overflow-hidden",title:"Alternar Modo Oscuro/Claro",children:[(0,r.jsx)(s.A,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,r.jsx)(l.A,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,r.jsx)("span",{className:"sr-only",children:"Cambiar tema"})]})}},61362:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},71847:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(12115);let s=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:d=24,strokeWidth:o=2,absoluteStrokeWidth:n,className:i="",children:c,iconNode:x,...m}=e;return(0,r.createElement)("svg",{ref:t,...l,width:d,height:d,stroke:a,strokeWidth:n?24*Number(o)/Number(d):o,className:s("lucide",i),...m},[...x.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(c)?c:[c]])}),o=(e,t)=>{let a=(0,r.forwardRef)((a,l)=>{let{className:o,...n}=a;return(0,r.createElement)(d,{ref:l,iconNode:t,className:s("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),o),...n})});return a.displayName="".concat(e),a}},90779:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var r=a(95155),s=a(12115),l=a(20063),d=a(35299),o=a(6613),n=a(61362),i=a(71847);let c=(0,i.A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var x=a(96044);let m=(0,i.A)("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);var h=a(24033);let u=(0,i.A)("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]),g=(0,i.A)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var p=a(91169),b=a(3941),y=a(59744);let f="7ec6e1c6-9704-496c-ae72-a590817b9568";function k(){let e=(0,l.useRouter)(),[t,a]=(0,s.useState)(null),[i,k]=(0,s.useState)([]),[v,j]=(0,s.useState)([]),[w,N]=(0,s.useState)(!0),[C,_]=(0,s.useState)(""),[A,S]=(0,s.useState)(0),[E,M]=(0,s.useState)(0),[z,D]=(0,s.useState)({}),[O,T]=(0,s.useState)(!1),[q,I]=(0,s.useState)(!1),[P,L]=(0,s.useState)(null),[V,F]=(0,s.useState)([]),[H,R]=(0,s.useState)(!1),[G,Z]=(0,s.useState)("resultados"),[J,U]=(0,s.useState)(null),[W,B]=(0,s.useState)(!1),K=A-Object.values(z).reduce((e,t)=>e+t,0);(0,s.useEffect)(()=>{(async()=>{let{data:{session:t}}=await b.N.auth.getSession();if(!t)return e.push("/");let{data:r}=await b.N.from("usuarios").select("*").eq("id",t.user.id).single();if(!r||"admin"!==r.rol&&"equipo"!==r.rol)return e.push("/");a({...r,email:t.user.email}),$()})()},[e]);let $=async()=>{try{let[e,t]=await Promise.all([fetch("/api/matches?equipo_id=".concat(f,"&t=").concat(Date.now())),fetch("/api/players?equipo_id=".concat(f,"&t=").concat(Date.now()))]);if(e.ok&&t.ok){let a=await e.json(),r=await t.json();k(a.partidos||[]),j(r.jugadores||[])}}catch(e){console.error("Error fetching admin data:",e)}finally{N(!1)}},Q=async()=>{await b.N.auth.signOut(),e.push("/")},X=async e=>{R(!0);try{let t=await fetch("/api/admin/convocatorias?partido_id=".concat(e));if(t.ok){let e=await t.json();F(e.convocatorias||[])}}catch(e){console.error(e)}finally{R(!1)}};(0,s.useEffect)(()=>{"asistencia"===G&&C&&X(C)},[G]);let Y=(e,t)=>{D(a=>{let r=Math.max(0,(a[e]||0)+t);return Object.values({...a,[e]:r}).reduce((e,t)=>e+t,0)>A?a:{...a,[e]:r}})},ee=(e,t)=>{L({message:e,type:t}),setTimeout(()=>L(null),4e3)},et=async e=>{if(!C)return;T(!0);let t=i.find(e=>e.id===C);if(!t)return;let a=t.estado;"en_juego"===e&&(a="en_juego"),"finalizado"===e&&(a="finalizado");try{let t=await fetch("/api/admin/live-score",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({matchId:C,golesEquipo:A,golesRival:E,estado:a})});if(t.ok)ee("update"===e?"Marcador sincronizado en directo":"Partido ".concat("en_juego"===e?"EN DIRECTO":"FINALIZADO"),"success"),k(i.map(e=>e.id===C?{...e,estado:a,goles_equipo:A,goles_rival:E}:e));else{let e=await t.json();ee(e.error||"Error al actualizar marcador en vivo","error")}}catch(e){ee(e.message||"Error al conectar","error")}finally{T(!1)}},ea=async()=>{if(!C)return void ee("Selecciona un partido primero","error");if(0!==K)return void ee("Faltan ".concat(K," goles por asignar a los jugadores"),"error");I(!0);let e=Object.entries(z).filter(e=>{let[t,a]=e;return a>0}).map(e=>{let[t,a]=e,r=v.find(e=>e.id===t);return{id:t,nombre:null==r?void 0:r.nombre,posicion:null==r?void 0:r.posicion,dorsal:null==r?void 0:r.dorsal,goles:a}});try{let t=await fetch("/api/admin/update-match",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({matchId:C,golesEquipo:A,golesRival:E,goleadores:e})}),a=await t.json();t.ok?(ee("Partido actualizado con \xe9xito","success"),_(""),S(0),M(0),D({}),$()):ee(a.error||"Error al guardar","error")}catch(e){ee(e.message||"Error de conexi\xf3n","error")}finally{I(!1)}},er=async()=>{if(!J)return void ee("Selecciona una imagen primero","error");B(!0);try{let e=J.name.split(".").pop(),t="".concat(Math.random(),".").concat(e),{error:a}=await b.N.storage.from("galeria").upload("".concat(t),J);if(a)throw a;ee("Imagen subida correctamente","success"),U(null);let r=document.getElementById("gallery-upload");r&&(r.value="")}catch(e){ee(e.message||"Error al subir la imagen","error")}finally{B(!1)}},es=i.find(e=>e.id===C);return t?(0,r.jsxs)("div",{className:"min-h-screen bg-slate-50 dark:bg-gray-950 text-slate-900 dark:text-gray-100 font-sans selection:bg-primary/30 transition-colors duration-300",children:[(0,r.jsx)("nav",{className:"border-b border-slate-200 dark:border-gray-800 bg-white/50 dark:bg-gray-900/50 backdrop-blur-md sticky top-0 z-50 transition-colors duration-300",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between items-center h-16",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(o.A,{className:"h-5 w-5 text-primary"}),(0,r.jsxs)("span",{className:"text-xl font-bold text-slate-900 dark:text-white tracking-tight",children:["Admin",(0,r.jsx)("span",{className:"text-primary",children:"Panel"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,r.jsxs)("span",{className:"text-sm text-slate-500 dark:text-gray-400 hidden sm:inline-block",children:["Hola, ",(0,r.jsx)("span",{className:"text-slate-900 dark:text-gray-200 font-bold",children:t.nombre})]}),(0,r.jsx)(y.c,{}),(0,r.jsx)("button",{onClick:Q,className:"text-sm bg-red-500/10 text-red-600 dark:text-red-500 hover:bg-red-500 hover:text-white px-3 sm:px-4 py-2 rounded-lg transition-all font-medium",children:"Cerrar sesi\xf3n"})]})]})}),(0,r.jsxs)("main",{className:"max-w-5xl mx-auto p-4 sm:p-6 lg:p-8 mt-6",children:[P&&(0,r.jsxs)("div",{className:"fixed top-20 right-4 flex items-center gap-2 px-4 py-3 rounded-lg shadow-xl border z-50 animate-in slide-in-from-top-4 fade-in ".concat("success"===P.type?"bg-emerald-950/80 border-emerald-500/50 text-emerald-200":"bg-red-950/80 border-red-500/50 text-red-200"),children:["success"===P.type?(0,r.jsx)(n.A,{className:"h-5 w-5"}):(0,r.jsx)(c,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"font-medium",children:P.message})]}),(0,r.jsxs)("div",{className:"mb-8 bg-gradient-to-r from-white to-slate-50 dark:from-gray-900 dark:to-gray-900/50 p-8 rounded-3xl border border-slate-200 dark:border-gray-800/60 shadow-lg relative overflow-hidden transition-all duration-300",children:[(0,r.jsx)("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/20 dark:bg-primary/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),(0,r.jsx)("h1",{className:"text-4xl font-extrabold text-slate-900 dark:text-white tracking-tight relative z-10 flex items-center gap-3",children:"\uD83D\uDC51 Panel de Administraci\xf3n"}),(0,r.jsx)("p",{className:"text-slate-600 dark:text-gray-400 mt-3 text-lg relative z-10 max-w-xl",children:"Control de mandos de Impersed Cubiertas FC. Actualiza resultados y asigna goleadores."})]}),w?(0,r.jsxs)("div",{className:"flex items-center justify-center h-64 bg-white/50 dark:bg-gray-900/50 rounded-2xl border border-slate-200 dark:border-gray-800",children:[(0,r.jsx)(d.A,{className:"h-8 w-8 animate-spin text-primary"}),(0,r.jsx)("span",{className:"ml-3 text-slate-500 dark:text-gray-400 font-medium",children:"Cargando datos de liga..."})]}):(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-5 space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row bg-white dark:bg-gray-900/60 p-1.5 rounded-2xl border border-slate-200 dark:border-gray-800 shadow-sm transition-colors duration-300 gap-1 sm:gap-2",children:[(0,r.jsxs)("button",{onClick:()=>Z("resultados"),className:"flex-1 flex items-center justify-center gap-2 py-3 rounded-xl font-bold text-sm transition-all duration-300 ".concat("resultados"===G?"bg-primary text-primary-foreground shadow-md":"text-slate-500 dark:text-gray-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-gray-800/50"),children:[(0,r.jsx)(o.A,{className:"h-4 w-4"}),"Resultados"]}),(0,r.jsxs)("button",{onClick:()=>Z("asistencia"),className:"flex-1 flex items-center justify-center gap-2 py-3 rounded-xl font-bold text-sm transition-all duration-300 ".concat("asistencia"===G?"bg-blue-600 text-white shadow-md":"text-slate-500 dark:text-gray-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-gray-800/50"),children:[(0,r.jsx)(x.A,{className:"h-4 w-4"}),"Asistencia"]}),(0,r.jsxs)("button",{onClick:()=>Z("galeria"),className:"flex-1 flex items-center justify-center gap-2 py-3 rounded-xl font-bold text-sm transition-all duration-300 ".concat("galeria"===G?"bg-purple-600 text-white shadow-md":"text-slate-500 dark:text-gray-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-gray-800/50"),children:[(0,r.jsx)(m,{className:"h-4 w-4"}),"Galer\xeda"]})]}),"galeria"!==G&&(0,r.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border border-slate-200 dark:border-gray-800/80 rounded-3xl p-6 shadow-xl relative overflow-hidden group transition-colors duration-300",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),(0,r.jsx)("label",{className:"block text-sm font-bold text-slate-700 dark:text-gray-300 mb-3 flex items-center gap-2 relative z-10",children:"\uD83D\uDCC5 Seleccionar Partido"}),(0,r.jsxs)("div",{className:"relative z-10",children:[(0,r.jsxs)("select",{className:"w-full appearance-none bg-slate-50 dark:bg-gray-950/80 border border-slate-300 dark:border-gray-700 text-slate-900 dark:text-white py-4 px-5 pr-12 rounded-2xl focus:outline-none focus:ring-2 focus:ring-primary/60 focus:border-primary transition-all shadow-inner text-base font-medium",value:C,onChange:e=>(e=>{_(e);let t=i.find(t=>t.id===e);t&&("finalizado"===t.estado||"en_juego"===t.estado)?(S(t.goles_equipo||0),M(t.goles_rival||0)):(S(0),M(0)),D({}),"asistencia"===G&&X(e)})(e.target.value),children:[(0,r.jsx)("option",{value:"",disabled:!0,children:"-- Elige un partido a gestionar --"}),i.map(e=>(0,r.jsxs)("option",{value:e.id,children:["finalizado"===e.estado?"\uD83C\uDFC1":"en_juego"===e.estado?"\uD83D\uDD34 (EN VIVO)":"⏳"," vs ",e.rival," (",new Date(e.fecha).toLocaleDateString(),")"]},e.id))]}),(0,r.jsx)(h.A,{className:"absolute right-5 top-4 h-6 w-6 text-slate-400 dark:text-gray-500 pointer-events-none"})]})]}),C&&"resultados"===G&&(0,r.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border border-slate-200 dark:border-gray-800/80 rounded-3xl p-6 shadow-lg relative overflow-hidden transition-colors duration-300 mt-6 lg:mt-0",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-accent/5 to-transparent pointer-events-none"}),(0,r.jsx)("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-8 flex items-center gap-3 relative z-10",children:"\uD83C\uDFAF Marcador Final"}),(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2 sm:gap-6 relative z-10 w-full",children:[(0,r.jsxs)("div",{className:"flex-1 flex flex-col items-center min-w-0",children:[(0,r.jsx)("label",{className:"text-xs sm:text-sm font-bold text-primary mb-3 text-center uppercase tracking-wider truncate w-full",children:"\uD83D\uDEE1️ Nosotros"}),(0,r.jsxs)("div",{className:"flex items-center bg-slate-50 dark:bg-gray-950 border border-primary/30 rounded-2xl overflow-hidden shadow-inner",children:[(0,r.jsx)("button",{onClick:()=>{S(e=>Math.max(0,e-1)),D({})},className:"px-3 sm:px-5 py-4 hover:bg-slate-200 dark:hover:bg-gray-800 text-slate-500 dark:text-gray-400 hover:text-slate-900 dark:hover:text-white transition-colors active:bg-slate-300 dark:active:bg-gray-700",children:"-"}),(0,r.jsx)("input",{type:"number",min:"0",readOnly:!0,className:"w-12 sm:w-16 bg-transparent text-center text-3xl font-black text-slate-900 dark:text-white border-0 focus:ring-0 p-0",value:A}),(0,r.jsx)("button",{onClick:()=>S(e=>e+1),className:"px-3 sm:px-5 py-4 hover:bg-slate-200 dark:hover:bg-gray-800 text-slate-500 dark:text-gray-400 hover:text-slate-900 dark:hover:text-white transition-colors active:bg-slate-300 dark:active:bg-gray-700",children:"+"})]})]}),(0,r.jsx)("div",{className:"text-xl sm:text-2xl font-black text-slate-400 dark:text-gray-600 self-end mb-5 shrink-0 px-1 sm:px-0",children:"VS"}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col items-center min-w-0",children:[(0,r.jsx)("label",{className:"text-xs sm:text-sm font-bold text-red-500 dark:text-red-400 mb-3 text-center uppercase tracking-wider truncate w-full",children:"\uD83D\uDD25 Rival"}),(0,r.jsxs)("div",{className:"flex items-center bg-slate-50 dark:bg-gray-950 border border-red-500/30 rounded-2xl overflow-hidden shadow-inner",children:[(0,r.jsx)("button",{onClick:()=>M(e=>Math.max(0,e-1)),className:"px-3 sm:px-5 py-4 hover:bg-slate-200 dark:hover:bg-gray-800 text-slate-500 dark:text-gray-400 hover:text-slate-900 dark:hover:text-white transition-colors active:bg-slate-300 dark:active:bg-gray-700",children:"-"}),(0,r.jsx)("input",{type:"number",min:"0",readOnly:!0,className:"w-12 sm:w-16 bg-transparent text-center text-3xl font-black text-slate-900 dark:text-white border-0 focus:ring-0 p-0",value:E}),(0,r.jsx)("button",{onClick:()=>M(e=>e+1),className:"px-3 sm:px-5 py-4 hover:bg-slate-200 dark:hover:bg-gray-800 text-slate-500 dark:text-gray-400 hover:text-slate-900 dark:hover:text-white transition-colors active:bg-slate-300 dark:active:bg-gray-700",children:"+"})]})]})]})]})]}),(0,r.jsx)("div",{className:"lg:col-span-7",children:"galeria"===G?(0,r.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border border-slate-200 dark:border-gray-800/80 rounded-3xl p-6 shadow-xl h-full flex flex-col relative overflow-hidden transition-colors duration-300",children:[(0,r.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-purple-500 via-pink-400 to-transparent"}),(0,r.jsx)("div",{className:"flex justify-between items-center mb-6 border-b border-slate-200 dark:border-gray-800/60 pb-5",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:[(0,r.jsx)(m,{className:"text-purple-500 h-6 w-6"})," Subir a Galer\xeda"]}),(0,r.jsx)("p",{className:"text-sm text-slate-500 dark:text-gray-400 mt-1",children:"Sube fotos de los partidos para actualizarlas en vivo."})]})}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center p-8 bg-slate-50 dark:bg-gray-950/50 rounded-2xl border-2 border-dashed border-purple-300 dark:border-purple-800/60 transition-colors",children:[(0,r.jsx)(u,{className:"h-16 w-16 text-purple-400 dark:text-purple-600 mb-4"}),(0,r.jsx)("input",{type:"file",id:"gallery-upload",accept:"image/*",onChange:e=>{var t;return U((null==(t=e.target.files)?void 0:t[0])||null)},className:"block w-full max-w-sm text-sm text-slate-500 dark:text-gray-400   file:mr-4 file:py-2.5 file:px-4   file:rounded-full file:border-0   file:text-sm file:font-semibold   file:bg-purple-50 file:text-purple-700   dark:file:bg-purple-900/50 dark:file:text-purple-300   hover:file:bg-purple-100 dark:hover:file:bg-purple-900/80   transition-colors cursor-pointer"}),J&&(0,r.jsxs)("p",{className:"mt-4 text-sm font-medium text-slate-700 dark:text-gray-300 text-center",children:["Seleccionado: ",J.name]})]}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)("button",{onClick:er,disabled:W||!J,className:"w-full flex items-center justify-center gap-3 bg-purple-600 hover:bg-purple-700 text-white font-bold py-4 px-6 rounded-2xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-md text-lg",children:W?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.A,{className:"h-6 w-6 animate-spin"})," Subiendo..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m,{className:"h-6 w-6"})," Subir Imagen"]})})})]}):es?"resultados"===G?(0,r.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border border-slate-200 dark:border-gray-800/80 rounded-3xl p-6 shadow-xl h-full flex flex-col relative overflow-hidden transition-colors duration-300",children:[(0,r.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-primary via-emerald-400 to-transparent"}),(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6 border-b border-slate-200 dark:border-gray-800/60 pb-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:"programado"===es.estado?"⏳ Partido Programado":"en_juego"===es.estado?"\uD83D\uDD34 Control en Vivo":"⚽ Goleadores del Partido"}),"programado"!==es.estado&&(0,r.jsx)("p",{className:"text-sm text-slate-500 dark:text-gray-400 mt-1",children:"en_juego"===es.estado?"Sincroniza los goles que anotes en el marcador de la izquierda al instante.":(0,r.jsxs)(r.Fragment,{children:["Asigna qui\xe9n marc\xf3 nuestros ",(0,r.jsx)("strong",{className:"text-primary text-base",children:A})," goles."]})})]}),"programado"===es.estado?(0,r.jsx)("button",{onClick:()=>et("en_juego"),disabled:O,className:"bg-red-500 hover:bg-red-600 text-white px-5 py-2 rounded-xl font-bold shadow-[0_0_15px_rgba(239,68,68,0.5)] transition-all animate-pulse hover:animate-none flex items-center gap-2",children:O?(0,r.jsx)(d.A,{className:"h-5 w-5 animate-spin"}):(0,r.jsx)(r.Fragment,{children:"\uD83D\uDD34 GO LIVE"})}):"en_juego"===es.estado?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:()=>et("update"),disabled:O,className:"bg-primary/20 hover:bg-primary/30 text-primary border border-primary/40 px-4 py-2 rounded-xl font-bold transition-all text-sm flex items-center gap-2",children:O?"Sincronizando...":"\uD83D\uDD04 Sincronizar Info"}),(0,r.jsx)("button",{onClick:()=>et("finalizado"),disabled:O,className:"bg-slate-800 dark:bg-gray-100 text-white dark:text-gray-900 px-4 py-2 rounded-xl font-bold transition-colors dark:hover:bg-white text-sm",children:"Finalizar Partido"})]}):(0,r.jsx)("div",{className:"px-4 py-1.5 rounded-xl text-xs sm:text-sm font-extrabold transition-colors shadow-sm ".concat(0===A?"bg-slate-100 dark:bg-gray-800/50 text-slate-500 dark:text-gray-400 border border-slate-200 dark:border-gray-700/50":0===K?"bg-emerald-500/20 text-emerald-600 dark:text-emerald-400 border border-emerald-500/40 shadow-[0_0_10px_rgba(20,184,106,0.3)]":"bg-amber-500/20 text-amber-600 dark:text-amber-400 border border-amber-500/40 shadow-[0_0_10px_rgba(245,158,11,0.3)]"),children:0===A?"⏳ Esperando goles...":0===K?"✅ \xa1Completado!":"⚠️ Faltan ".concat(K)})]}),"programado"===es.estado?(0,r.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8 bg-slate-50 dark:bg-gray-950/50 rounded-2xl border border-dashed border-slate-300 dark:border-gray-800/60",children:[(0,r.jsx)("span",{className:"text-5xl mb-4 opacity-50 dark:opacity-80",children:"⏱️"}),(0,r.jsx)("p",{className:"text-slate-800 dark:text-gray-300 font-bold text-lg",children:"Partido listo para comenzar."}),(0,r.jsx)("p",{className:"text-slate-500 dark:text-gray-500 mt-2 font-medium",children:"Inicia el modo 'Live' para mostrar un widget con el resultado a todos los usuarios en tiempo real."})]}):"en_juego"===es.estado?(0,r.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8 bg-red-500/5 dark:bg-red-500/10 rounded-2xl border border-red-500/20 shadow-inner overflow-hidden relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-tr from-red-500/5 to-transparent pointer-events-none"}),(0,r.jsx)("span",{className:"text-5xl mb-4 animate-pulse drop-shadow-[0_0_15px_rgba(239,68,68,0.5)]",children:"\uD83D\uDD34"}),(0,r.jsx)("p",{className:"text-slate-800 dark:text-gray-200 font-extrabold text-2xl tracking-tight",children:"TRANSMITIENDO EN VIVO"}),(0,r.jsx)("p",{className:"text-slate-600 dark:text-gray-400 mt-2 font-medium max-w-sm",children:"Los cambios en el marcador izquierdo se reflejan inmediatamente a todos los visitantes cuando pulsas Sincronizar."})]}):0===A?(0,r.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-8 bg-slate-50 dark:bg-gray-950/50 rounded-2xl border border-dashed border-slate-300 dark:border-gray-800/60",children:[(0,r.jsx)("span",{className:"text-5xl mb-4 opacity-50 dark:opacity-80",children:"⚽"}),(0,r.jsx)("p",{className:"text-slate-800 dark:text-gray-300 font-bold text-lg",children:"A\xfan no hay goles de nuestro equipo."}),(0,r.jsx)("p",{className:"text-slate-500 dark:text-gray-500 mt-2 font-medium",children:"Aumenta nuestro marcador en la izquierda para poder asignar goleadores."})]}):(0,r.jsx)("div",{className:"flex-1 overflow-y-auto pr-3 space-y-3 pb-4 max-h-[450px] custom-scrollbar",children:v.map(e=>{let t=z[e.id]||0;return(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-2xl transition-all duration-300 ".concat(t>0?"bg-primary/5 dark:bg-primary/15 border border-primary/40 shadow-[0_0_15px_rgba(20,184,106,0.2)] dark:shadow-[0_0_20px_rgba(20,184,106,0.3)] scale-[1.01]":"bg-slate-50 dark:bg-gray-950/50 hover:bg-slate-100 dark:hover:bg-gray-800/80 border border-slate-200 dark:border-gray-800/60 hover:border-slate-300 dark:hover:border-gray-700"),children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("span",{className:"flex items-center justify-center w-10 h-10 rounded-full text-sm font-black shadow-inner ".concat(t>0?"bg-primary text-white dark:text-gray-950":"bg-slate-200 dark:bg-gray-800 text-slate-600 dark:text-gray-300"),children:e.dorsal}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-bold ".concat(t>0?"text-slate-900 dark:text-white":"text-slate-700 dark:text-gray-200"),children:e.nombre}),(0,r.jsx)("p",{className:"text-xs text-slate-500 dark:text-gray-500 font-medium uppercase tracking-wider mt-0.5",children:e.posicion})]})]}),(0,r.jsxs)("div",{className:"flex items-center bg-white dark:bg-gray-950 border border-slate-300 dark:border-gray-700/80 rounded-xl overflow-hidden shadow-inner shrink-0",children:[(0,r.jsx)("button",{onClick:()=>Y(e.id,-1),disabled:0===t,className:"px-4 py-3 hover:bg-slate-100 dark:hover:bg-gray-800 disabled:opacity-30 disabled:hover:bg-transparent text-slate-500 dark:text-gray-400 transition-colors focus:outline-none",children:"-"}),(0,r.jsx)("span",{className:"w-10 text-center font-black text-lg ".concat(t>0?"text-primary":"text-slate-400 dark:text-gray-500"),children:t>0?t:"0"}),(0,r.jsx)("button",{onClick:()=>Y(e.id,1),disabled:0===K,className:"px-4 py-3 hover:bg-slate-100 dark:hover:bg-gray-800 disabled:opacity-30 disabled:hover:bg-transparent text-slate-500 dark:text-gray-400 transition-colors focus:outline-none",children:"+"})]})]},e.id)})}),"finalizado"===es.estado&&(0,r.jsx)("div",{className:"mt-auto pt-6 border-t border-gray-800/60",children:(0,r.jsx)("button",{onClick:ea,disabled:q||0!==K,className:"w-full flex items-center justify-center gap-3 bg-primary hover:bg-primary/90 text-primary-foreground font-bold py-4 px-6 rounded-2xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg active:scale-[0.98] text-lg",children:q?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.A,{className:"h-6 w-6 animate-spin"})," Guardando..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g,{className:"h-6 w-6"})," Guardar Resultado Final"]})})})]}):(0,r.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border border-slate-200 dark:border-gray-800/80 rounded-3xl p-6 shadow-xl relative overflow-hidden transition-colors duration-300",children:[(0,r.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent"}),(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6 border-b border-slate-200 dark:border-gray-800/60 pb-5",children:[(0,r.jsx)(p.A,{className:"text-blue-500 h-6 w-6"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Estado de la Convocatoria"}),(0,r.jsx)("p",{className:"text-sm text-slate-500 dark:text-gray-400 mt-1",children:"Jugadores que han confirmado v\xeda Portal Jugador."})]})]}),H?(0,r.jsx)("div",{className:"py-20 flex justify-center",children:(0,r.jsx)(d.A,{className:"animate-spin text-blue-500 drop-shadow-[0_0_8px_rgba(59,130,246,0.8)]"})}):0===V.length?(0,r.jsx)("div",{className:"py-12 text-center text-slate-500 dark:text-gray-500 font-medium",children:"Nadie ha votado todav\xeda para este partido."}):(0,r.jsxs)("div",{className:"space-y-3",children:[v.map(e=>{let t=V.find(t=>t.jugador_id===e.id);return t?(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-gray-950/50 rounded-2xl border border-slate-200 dark:border-gray-800/60 transition-all hover:bg-slate-100 dark:hover:bg-gray-900 hover:shadow-md",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("span",{className:"flex items-center justify-center w-10 h-10 rounded-full text-sm font-black shadow-inner bg-slate-200 dark:bg-gray-800 text-slate-700 dark:text-gray-300",children:e.dorsal}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-bold text-slate-900 dark:text-gray-200",children:e.nombre}),(0,r.jsx)("p",{className:"text-xs text-slate-500 dark:text-gray-500 font-medium uppercase tracking-wider",children:e.posicion})]})]}),t.asiste?(0,r.jsxs)("div",{className:"bg-emerald-500/10 dark:bg-emerald-500/20 text-emerald-600 dark:text-emerald-400 px-4 py-2 rounded-xl font-bold text-sm flex items-center gap-2 border border-emerald-500/30 shadow-[0_0_10px_rgba(20,184,106,0.2)]",children:[(0,r.jsx)(n.A,{className:"h-4 w-4"})," Voy"]}):(0,r.jsxs)("div",{className:"bg-red-500/10 dark:bg-red-500/20 text-red-600 dark:text-red-400 px-4 py-2 rounded-xl font-bold text-sm flex items-center gap-2 border border-red-500/30 shadow-[0_0_10px_rgba(239,68,68,0.2)]",children:[(0,r.jsx)(c,{className:"h-4 w-4"})," Baja"]})]},e.id):null}),(0,r.jsx)("h4",{className:"text-sm font-bold text-slate-500 dark:text-gray-500 uppercase tracking-widest mt-8 mb-4",children:"Faltan por responder"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:v.filter(e=>!V.find(t=>t.jugador_id===e.id)).map(e=>(0,r.jsx)("span",{className:"bg-slate-100 dark:bg-gray-800/40 text-slate-500 dark:text-gray-400 px-3 py-1.5 rounded-lg text-xs font-bold border border-slate-200 dark:border-gray-700/50",children:e.nombre},e.id))})]})]}):(0,r.jsxs)("div",{className:"bg-gradient-to-br from-white to-slate-50 dark:from-gray-900 dark:to-gray-900/50 border border-slate-200 dark:border-gray-800/60 rounded-3xl p-6 h-full flex flex-col items-center justify-center text-center shadow-lg dark:shadow-[0_0_30px_rgba(0,0,0,0.5)] relative overflow-hidden transition-colors duration-300",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-[0.03]"}),(0,r.jsxs)("div",{className:"w-24 h-24 bg-slate-100 dark:bg-gray-800/50 rounded-full flex items-center justify-center mb-6 shadow-inner relative z-10",children:[(0,r.jsx)("div",{className:"absolute inset-0 rounded-full border border-slate-300 dark:border-gray-700 animate-[spin_10s_linear_infinite]"}),(0,r.jsx)("span",{className:"text-4xl animate-bounce drop-shadow-md",children:"⚽"})]}),(0,r.jsx)("h3",{className:"text-2xl font-bold text-slate-800 dark:text-gray-200 mb-3 relative z-10 drop-shadow-sm",children:"Ning\xfan partido seleccionado"}),(0,r.jsx)("p",{className:"text-slate-500 dark:text-gray-500 max-w-sm text-lg relative z-10",children:"Selecciona un partido de la lista en la izquierda para comenzar a gestionar el resultado y los goleadores de la jornada."})]})})]})]})]}):(0,r.jsx)("div",{className:"min-h-screen bg-slate-50 dark:bg-gray-950 flex items-center justify-center",children:(0,r.jsx)(d.A,{className:"animate-spin text-primary h-8 w-8"})})}},91169:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},96044:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("CalendarHeart",[["path",{d:"M3 10h18V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h7",key:"136lmk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21.29 14.7a2.43 2.43 0 0 0-2.65-.52c-.3.12-.57.3-.8.53l-.34.34-.35-.34a2.43 2.43 0 0 0-2.65-.53c-.3.12-.56.3-.79.53-.95.94-1 2.53.2 3.74L17.5 22l3.6-3.55c1.2-1.21 1.14-2.8.19-3.74Z",key:"1t7hil"}]])}},e=>{e.O(0,[190,441,255,358],()=>e(e.s=55477)),_N_E=e.O()}]);