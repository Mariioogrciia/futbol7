(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[738],{3941:(e,r,t)=>{"use strict";t.d(r,{N:()=>n});let n=(0,t(35497).UU)("https://aknyrfoxlpphebkfomwx.supabase.co","sb_publishable_Z36O_vV2RpFxkajpCPpU7w_D9ve-o3k")},48698:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var n=t(95155),a=t(12115),s=t(20063),l=t(52619),u=t.n(l),o=t(3941);function d(){let[e,r]=(0,a.useState)(""),[t,l]=(0,a.useState)(""),[d,i]=(0,a.useState)(""),[c,f]=(0,a.useState)("espectador"),[p,b]=(0,a.useState)(!1),[g,x]=(0,a.useState)(""),[m,h]=(0,a.useState)(""),y=(0,s.useRouter)();(0,a.useEffect)(()=>{(async()=>{let{data:{session:e}}=await o.N.auth.getSession();e&&y.push("/")})()},[y]);let j=async r=>{r.preventDefault(),b(!0),x(""),h("");try{let r=await fetch("/api/auth/registro",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,nombre:d,rol:c})}),n=await r.json();if(!r.ok)return void x(n.error||"Error en registro");h("Cuenta creada exitosamente. Revisa tu email para confirmar tu cuenta.")}catch(e){x("Error de conexi\xf3n"),console.error(e)}finally{b(!1)}};return(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-600 to-green-800",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-center mb-2 text-gray-800",children:"⚽ Futbol7"}),(0,n.jsx)("h2",{className:"text-lg text-center mb-8 text-gray-600",children:"Crear cuenta"}),(0,n.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre"}),(0,n.jsx)("input",{type:"text",value:d,onChange:e=>i(e.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Tu nombre"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),(0,n.jsx)("input",{type:"email",value:e,onChange:e=>r(e.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"tu@email.com"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrase\xf1a"}),(0,n.jsx)("input",{type:"password",value:t,onChange:e=>l(e.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"••••••••"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\xbfQu\xe9 eres?"}),(0,n.jsxs)("select",{value:c,onChange:e=>f(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[(0,n.jsx)("option",{value:"espectador",children:"Espectador"}),(0,n.jsx)("option",{value:"equipo",children:"Equipo"})]})]}),g&&(0,n.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:g}),m&&(0,n.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:m}),(0,n.jsx)("button",{type:"submit",disabled:p,className:"w-full bg-green-600 text-white py-2 rounded-lg font-semibold hover:bg-green-700 transition disabled:opacity-50",children:p?"Creando cuenta...":"Registrarse"})]}),(0,n.jsxs)("p",{className:"text-center mt-6 text-gray-600",children:["\xbfYa tienes cuenta?"," ",(0,n.jsx)(u(),{href:"/login",className:"text-green-600 hover:underline font-semibold",children:"Inicia sesi\xf3n"})]})]})})}},83011:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return a}});let n=t(12115);function a(e,r){let t=(0,n.useRef)(null),a=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=t.current;e&&(t.current=null,e());let r=a.current;r&&(a.current=null,r())}else e&&(t.current=s(e,n)),r&&(a.current=s(r,n))},[e,r])}function s(e,r){if("function"!=typeof e)return e.current=r,()=>{e.current=null};{let t=e(r);return"function"==typeof t?t:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},93285:(e,r,t)=>{Promise.resolve().then(t.bind(t,48698))}},e=>{e.O(0,[174,619,441,255,358],()=>e(e.s=93285)),_N_E=e.O()}]);