{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mario/PycharmProjects/futbol7/lib/supabase/admin.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\r\n\r\nconst url = process.env.NEXT_PUBLIC_SUPABASE_URL!;\r\nconst serviceRole = process.env.SUPABASE_SERVICE_ROLE_KEY!;\r\n\r\nexport const supabaseAdmin = createClient(url, serviceRole, {\r\n  auth: { autoRefreshToken: false, persistSession: false },\r\n});\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM,cAAc,QAAQ,GAAG,CAAC,yBAAyB;AAElD,MAAM,gBAAgB,IAAA,gMAAY,EAAC,KAAK,aAAa;IAC1D,MAAM;QAAE,kBAAkB;QAAO,gBAAgB;IAAM;AACzD","debugId":null}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mario/PycharmProjects/futbol7/app/api/admin/convocatorias/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\r\nimport { supabaseAdmin } from \"@/lib/supabase/admin\";\r\n\r\nexport async function GET(request: NextRequest) {\r\n    try {\r\n        const partidoId = request.nextUrl.searchParams.get(\"partido_id\");\r\n\r\n        if (!partidoId) {\r\n            return NextResponse.json({ error: \"Missing partido_id\" }, { status: 400 });\r\n        }\r\n\r\n        const { data: convocatorias, error } = await supabaseAdmin\r\n            .from(\"convocatorias\")\r\n            .select(`\r\n        id,\r\n        asiste,\r\n        comentario,\r\n        jugador_id,\r\n        jugadores(nombre, dorsal, posicion)\r\n      `)\r\n            .eq(\"partido_id\", partidoId);\r\n\r\n        if (error) {\r\n            return NextResponse.json({ error: error.message }, { status: 500 });\r\n        }\r\n\r\n        // Flatten logic\r\n        const results = (convocatorias ?? []).map((c: any) => ({\r\n            id: c.id,\r\n            asiste: c.asiste,\r\n            comentario: c.comentario,\r\n            jugador_id: c.jugador_id,\r\n            nombre: c.jugadores?.nombre ?? \"Desconocido\",\r\n            dorsal: c.jugadores?.dorsal ?? \"\",\r\n            posicion: c.jugadores?.posicion ?? \"\"\r\n        }));\r\n\r\n        return NextResponse.json({\r\n            convocatorias: results,\r\n        });\r\n    } catch (e: any) {\r\n        return NextResponse.json({ error: e?.message ?? \"Error interno\" }, { status: 500 });\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,IAAI,OAAoB;IAC1C,IAAI;QACA,MAAM,YAAY,QAAQ,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC;QAEnD,IAAI,CAAC,WAAW;YACZ,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAqB,GAAG;gBAAE,QAAQ;YAAI;QAC5E;QAEA,MAAM,EAAE,MAAM,aAAa,EAAE,KAAK,EAAE,GAAG,MAAM,2IAAa,CACrD,IAAI,CAAC,iBACL,MAAM,CAAC,CAAC;;;;;;MAMf,CAAC,EACM,EAAE,CAAC,cAAc;QAEtB,IAAI,OAAO;YACP,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO,MAAM,OAAO;YAAC,GAAG;gBAAE,QAAQ;YAAI;QACrE;QAEA,gBAAgB;QAChB,MAAM,UAAU,CAAC,iBAAiB,EAAE,EAAE,GAAG,CAAC,CAAC,IAAW,CAAC;gBACnD,IAAI,EAAE,EAAE;gBACR,QAAQ,EAAE,MAAM;gBAChB,YAAY,EAAE,UAAU;gBACxB,YAAY,EAAE,UAAU;gBACxB,QAAQ,EAAE,SAAS,EAAE,UAAU;gBAC/B,QAAQ,EAAE,SAAS,EAAE,UAAU;gBAC/B,UAAU,EAAE,SAAS,EAAE,YAAY;YACvC,CAAC;QAED,OAAO,gJAAY,CAAC,IAAI,CAAC;YACrB,eAAe;QACnB;IACJ,EAAE,OAAO,GAAQ;QACb,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO,GAAG,WAAW;QAAgB,GAAG;YAAE,QAAQ;QAAI;IACrF;AACJ","debugId":null}}]
}