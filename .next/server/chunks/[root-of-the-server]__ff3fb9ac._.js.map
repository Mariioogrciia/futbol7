{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mario/PycharmProjects/futbol7/lib/auth.ts"],"sourcesContent":["import jwt from 'jsonwebtoken';\r\n\r\nconst SECRET = process.env.JWT_SECRET || 'tu_clave_secreta_super_segura';\r\n\r\nexport interface TokenPayload {\r\n  userId: string;\r\n  email: string;\r\n  rol: 'admin' | 'equipo' | 'externo';\r\n}\r\n\r\nexport function createToken(payload: TokenPayload) {\r\n  return jwt.sign(payload, SECRET, { expiresIn: '7d' });\r\n}\r\n\r\nexport function verifyToken(token: string): TokenPayload | null {\r\n  try {\r\n    return jwt.verify(token, SECRET) as TokenPayload;\r\n  } catch (error) {\r\n    return null;\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,SAAS,QAAQ,GAAG,CAAC,UAAU,IAAI;AAQlC,SAAS,YAAY,OAAqB;IAC/C,OAAO,kJAAG,CAAC,IAAI,CAAC,SAAS,QAAQ;QAAE,WAAW;IAAK;AACrD;AAEO,SAAS,YAAY,KAAa;IACvC,IAAI;QACF,OAAO,kJAAG,CAAC,MAAM,CAAC,OAAO;IAC3B,EAAE,OAAO,OAAO;QACd,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 104, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mario/PycharmProjects/futbol7/app/api/auth/verify/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\r\nimport { verifyToken } from '@/lib/auth';\r\n\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    // Primero intentar auth header\r\n    const auth = request.headers.get('authorization') || '';\r\n    let token = '';\r\n    if (auth.startsWith('Bearer ')) token = auth.split(' ')[1];\r\n\r\n    // Si no viene en header, intentar cookie\r\n    if (!token) token = request.cookies.get('token')?.value || '';\r\n\r\n    if (!token) return NextResponse.json({ valid: false }, { status: 401 });\r\n\r\n    const payload = verifyToken(token);\r\n    if (!payload) return NextResponse.json({ valid: false }, { status: 401 });\r\n\r\n    return NextResponse.json({ valid: true, user: payload });\r\n  } catch (err) {\r\n    return NextResponse.json({ valid: false }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,IAAI,OAAoB;IAC5C,IAAI;QACF,+BAA+B;QAC/B,MAAM,OAAO,QAAQ,OAAO,CAAC,GAAG,CAAC,oBAAoB;QACrD,IAAI,QAAQ;QACZ,IAAI,KAAK,UAAU,CAAC,YAAY,QAAQ,KAAK,KAAK,CAAC,IAAI,CAAC,EAAE;QAE1D,yCAAyC;QACzC,IAAI,CAAC,OAAO,QAAQ,QAAQ,OAAO,CAAC,GAAG,CAAC,UAAU,SAAS;QAE3D,IAAI,CAAC,OAAO,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAM,GAAG;YAAE,QAAQ;QAAI;QAErE,MAAM,UAAU,IAAA,4HAAW,EAAC;QAC5B,IAAI,CAAC,SAAS,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAM,GAAG;YAAE,QAAQ;QAAI;QAEvE,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;YAAM,MAAM;QAAQ;IACxD,EAAE,OAAO,KAAK;QACZ,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAM,GAAG;YAAE,QAAQ;QAAI;IAC3D;AACF","debugId":null}}]
}